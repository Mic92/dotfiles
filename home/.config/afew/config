# afew configuration
# This complements the server-side Sieve rules with additional client-side tagging

# Tag emails based on which folder they're in (set by Sieve)
[FolderNameFilter]
# This filter adds tags based on folder names
# It automatically handles the folder structure created by Sieve

[Filter.2]
# Tag GitHub notifications for quick access
message = Tag GitHub notifications
query = from:noreply@github.com OR from:notifications@github.com
tags = +github

[Filter.3]
# Tag pull requests
message = Tag pull requests
query = subject:"[PR]" OR subject:"Pull Request" OR (from:noreply@github.com AND subject:"#")
tags = +pr

[Filter.4]
# Tag CI/CD notifications
message = Tag CI/CD
query = (from:notifications@github.com AND (subject:"Run failed" OR subject:"Run cancelled"))
tags = +ci;-github

[Filter.5]
# Tag verification codes and magic links
message = Tag verification codes and magic links
query = subject:"verification code" OR subject:"magic link" OR subject:"secure link to log in" OR subject:"sign in link" OR body:"verification code is" OR body:"magic link" OR body:"secure link to log in"
tags = +verification-code

[Filter.6]
# Tag Google Calendar emails
message = Tag Google Calendar emails
query = from:calendar-notification@google.com OR from:noreply-calendar-sync@google.com
tags = +calendar

[Filter.7]
# Tag Nextcloud calendar emails
message = Tag Nextcloud calendar emails
query = from:nextcloud@thalheim.io AND body:"Calendar:"
tags = +calendar

[Filter.8]
# Tag calendar reminder emails
message = Tag calendar reminder emails
query = ((from:calendar-notification@google.com OR from:noreply-calendar-sync@google.com) AND subject:Notification) OR (from:nextcloud@thalheim.io AND subject:"New notification" AND body:"Calendar:")
tags = +calendar-reminder
